(function(){"use strict";var t={933:function(t,e,s){var o=s(963),n=s(252);function r(t,e,s,o,r,a){const i=(0,n.up)("PostComponent");return(0,n.wg)(),(0,n.j4)(i)}var a=s(577);const i=t=>((0,n.dD)("data-v-31d1c8e2"),t=t(),(0,n.Cn)(),t),c={class:"container-fluid"},l=i((()=>(0,n._)("h1",{class:"mt-5"},"Latest Posts",-1))),d={class:"container-fluid"},u={class:"row"},p=i((()=>(0,n._)("div",{class:"col-md-1"},null,-1))),f=i((()=>(0,n._)("div",{class:"col-md-2 mt-1"},[(0,n._)("label",{for:"create-post",class:"form-label"},"Create a post!")],-1))),v={class:"col-md-6 mb-2"},g={class:"col-md-1"},h=i((()=>(0,n._)("div",{class:"col-md-1"},null,-1))),m={key:0,class:"row"},w=i((()=>(0,n._)("div",{class:"col-md-3"},null,-1))),b=i((()=>(0,n._)("div",{class:"form-text"},[(0,n._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,n._)("span",{class:"sr-only"})]),(0,n.Uk)(" Updating posts... ")],-1))),P=[w,b],y=i((()=>(0,n._)("hr",null,null,-1))),_={key:0,class:"text-danger"},k={key:1},x=i((()=>(0,n._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,n._)("span",{class:"sr-only"})],-1))),D={key:2},C=i((()=>(0,n._)("p",{class:"text-muted"},"No posts yet!",-1))),O=[C],U={class:"container"},j=["item","index"],A={class:"card text-center mb-2"},M=["onClick"],Z=i((()=>(0,n._)("i",{class:"fa-solid fa-x"},null,-1))),$=[Z],q={class:"card-body"},z={class:"text h4"},F={class:"card-footer text-muted"};function L(t,e,s,r,i,w){return(0,n.wg)(),(0,n.iD)("div",c,[l,(0,n._)("div",d,[(0,n._)("div",u,[p,f,(0,n._)("div",v,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"create-post","onUpdate:modelValue":e[0]||(e[0]=t=>i.text=t),placeholder:"Say something here ..."},null,512),[[o.nr,i.text]])]),(0,n._)("div",g,[i.error||i.loadingPosts?((0,n.wg)(),(0,n.iD)("button",{key:0,disabled:"",class:"btn btn-dark",onClick:e[1]||(e[1]=(...t)=>w.createPost&&w.createPost(...t))},"Post!")):((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn btn-dark",onClick:e[2]||(e[2]=(...t)=>w.createPost&&w.createPost(...t))},"Post!"))]),h]),i.showUpdatingPostMessage?((0,n.wg)(),(0,n.iD)("div",m,P)):(0,n.kq)("",!0)]),y,i.error?((0,n.wg)(),(0,n.iD)("p",_,(0,a.zw)(i.error),1)):i.loadingPosts?((0,n.wg)(),(0,n.iD)("div",k,[x,(0,n.Uk)(" Loading posts ... ")])):(0,n.kq)("",!0),i.loadingPosts||0!=i.posts.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",D,O)),(0,n._)("div",U,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.posts,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"post",item:t,index:e,key:t._id},[(0,n._)("div",A,[(0,n._)("button",{onClick:e=>w.deletePost(t._id),class:"btn btn-outline-secondary border-0 ltm-delete-post"},$,8,M),(0,n._)("div",q,[(0,n._)("p",z,(0,a.zw)(t.text),1)]),(0,n._)("div",F,(0,a.zw)(`${t.createdAt.getDate()}/${t.createdAt.getMonth()}/${t.createdAt.getFullYear()}`),1)])],8,j)))),128))])])}var T=s(248);const Y="api/posts/";class E{static getPosts(){return new Promise((async(t,e)=>{try{const e=await T.Z.get(Y),s=e.data;t(s.map((t=>({...t,createdAt:new Date(t.createdAt)}))))}catch(s){e(s)}}))}static insertPost(t){return T.Z.post(Y,{text:t})}static deletePost(t){return T.Z["delete"](`${Y}${t}`)}}var H=E,I={name:"PostComponent",data(){return{posts:[],error:"",text:"",loadingPosts:!0,showUpdatingPostMessage:!1}},async created(){try{this.posts=await H.getPosts(),this.loadingPosts=!1}catch(t){this.error=t.message}},methods:{async createPost(){this.showUpdatingPostMessage=!0,await H.insertPost(this.text),this.posts=await H.getPosts(),this.showUpdatingPostMessage=!1,this.text=""},async deletePost(t){await H.deletePost(t),this.posts=await H.getPosts()}}},K=s(744);const N=(0,K.Z)(I,[["render",L],["__scopeId","data-v-31d1c8e2"]]);var S=N,V={name:"App",components:{PostComponent:S}};const B=(0,K.Z)(V,[["render",r]]);var G=B;(0,o.ri)(G).mount("#app")}},e={};function s(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,o,n,r){if(!o){var a=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],r=t[d][2];for(var i=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(s.O).every((function(t){return s.O[t](o[c])}))?o.splice(c--,1):(i=!1,r<a&&(a=r));if(i){t.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,n,r]}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,r,a=o[0],i=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(c)var d=c(s)}for(e&&e(o);l<a.length;l++)r=a[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(933)}));o=s.O(o)})();
//# sourceMappingURL=app.9c159ebb.js.map